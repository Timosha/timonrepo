--- ImageMagick-6.0.6/config/delegates.mgk.in.hp2xx	2004-09-01 23:23:12.924364520 +0200
+++ ImageMagick-6.0.6/config/delegates.mgk.in	2004-09-01 23:28:45.415818136 +0200
@@ -70,8 +70,16 @@
   <delegate decode="gs-mono" stealth="True" command='"@PSDelegate@" -q -dBATCH -dSAFER -dMaxBitmap=500000000 -dNOPAUSE -dAlignToPixels=0 "-sDEVICE=@GSMonoDevice@" -dTextAlphaBits=%u -dGraphicsAlphaBits=%u "-g%s" "-r%s" %s "-sOutputFile=%s" "-f%s" "-f%s"' />
   <delegate decode="hpg" command='"@HPGLDecodeDelegate@" -q -m eps -f `basename "%o"` "%i"
     mv -f `basename "%o"` "%o"' />
-  <delegate decode="hpgl" command='"@HPGLDecodeDelegate@" -q -m eps -f `basename "%o"` "%i"
-    mv -f `basename "%o"` "%o"' />
+  <delegate decode="hpgl" command='if [ -e "@HPGLDecodeDelegate@" -o -e "/usr/bin/@HPGLDecodeDelegate@" ]; then
+     "@HPGLDecodeDelegate@" -q -m eps -f `basename "%o"` "%i"
+      mv -f `basename "%o"` "%o"
+   else
+      echo "You need to install hp2xx (which is not part of Red Hat Linux) to use"
+      echo "HPGL files with ImageMagick."
+      echo "Current hp2xx RPM packages for Red Hat Linux can be found at"
+      echo "http://rhcontrib.bero.org/search.php in the Applications/Multimedia section."
+      exit 1
+   fi' />
   <delegate decode="htm" command='"@HTMLDecodeDelegate@" -U -o "%o" "%i"' />
   <delegate decode="html" command='"@HTMLDecodeDelegate@" -U -o "%o" "%i"' />
   <delegate decode="ilbm" command='"@ILBMDecodeDelegate@" "%i" > "%o"' />
